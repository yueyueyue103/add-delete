import React, { useState } from "react";

// Common dialog box component
const ConfirmationDialog = ({ action, onConfirm }) => {
  const [isOpen, setIsOpen] = useState(false);

  const openDialog = (event) => {
    event.stopPropagation();
    setIsOpen(true);
  };

  const closeDialog = () => {
    setIsOpen(false);
  };

  const handleConfirm = () => {
    onConfirm();
    closeDialog();
  };

  let dialogMessage;
  if (action === "login") {
    dialogMessage = "确定登录吗？";
  } else if (action === "issue") {
    dialogMessage = "确定发行吗？";
  } 

  return (
    <>
      <button onClick={openDialog}>{action === "login" ? "登录" : "发行"}</button>

      {isOpen && (
        <div className="dialog">
          <p>{dialogMessage}</p>
          <button onClick={handleConfirm}>是</button>
          <button onClick={closeDialog}>否</button>
        </div>
      )}
    </>
  );
};

// Example usage
const App = () => {
  const handleLogin = () => {
    // Code for login processing
    console.log("进行登录的处理");
  };

  const handleIssue = () => {
    // Code for issuing processing
    console.log("进行发行的处理");
  };



  return (
    <div>
      <h1>示例应用</h1>

      <ConfirmationDialog action="login" onConfirm={handleLogin} />

      <ConfirmationDialog action="issue" onConfirm={handleIssue} />

    </div>
  );
};

export default App;

import React, { useState } from 'react';

const App = () => {
  const [isOpen, setModalOpen] = useState(false);
  const [modalMessage, setModalMessage] = useState('');
  const [modalAction, setModalAction] = useState(() => () => {}); // Initial empty function

  const openModal = (message, action) => {
    setModalMessage(message);
    setModalAction(() => action);
    setModalOpen(true);
  };

  const closeModal = () => {
    setModalOpen(false);
  };

  const handleConfirm = () => {
    modalAction(); // Execute the action (login or issue logic)
    closeModal();
  };

  const handleLogin = () => {
    openModal('确定要执行登录操作吗？', handleLoginConfirm);
  };

  const handleIssue = () => {
    openModal('确定要执行发行操作吗？', handleIssueConfirm);
  };

  const handleLoginConfirm = () => {
    // 处理登录逻辑
    console.log('登录');
  };

  const handleIssueConfirm = () => {
    // 处理发行逻辑
    console.log('发行');
  };

  return (
    <div>
    
      <button onClick={handleLogin}>登录</button>

     
      <button onClick={handleIssue}>发行</button>

      {/* 共通的弹出对话框 */}
      {isOpen && (
        <div>
          <div>
            <p>{modalMessage}</p>
            <div>
            <button onClick={handleConfirm}>是</button>
              <button onClick={closeModal}>取消</button>
              
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default App;
